// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.

syntax = "proto3";
option go_package = "github.com/microsoft/wssdagent/rpc/common";

package wssd;

enum Operation {
	GET = 0;
	POST = 1;
	DELETE = 2;
}

enum ProvisionState {
	UNKNOWN = 0;
	CREATING = 1;
	CREATED = 2;
	CREATE_FAILED = 3;
	DELETING = 4;
	DELETE_FAILED = 5;
	DELETED = 6;
	UPDATING = 7;
	UPDATE_FAILED = 8;
	UPDATED = 9;
	PROVISIONING = 10;
	PROVISIONED = 11;
	PROVISION_FAILED = 12;
	DEPROVISIONING = 13;
	DEPROVISIONED = 14;
	DEPROVISION_FAILED = 15;
}

enum HealthState {
     NO_CONTACT = 0;
     OK = 1;
     WARNING = 2;
     CRITICAL = 3;
}

message Error {
	string Message = 1;
	int32 Code = 2;
}

message ProvisionStatus {
	ProvisionState currentState = 1;
	ProvisionState previousState = 2;
}

message Health {
	HealthState currentState = 1;
	HealthState previousState = 2;
}

message Status {
	Health health = 1;
	ProvisionStatus provisioningStatus = 2;
	Error lastError = 3;
}
